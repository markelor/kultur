<div class="ks-page">
  <div class="ks-page-content">
    <div class="card panel panel-default ks-light ks-panel ks-login ks-auth">
      <div class="card-block">
        <!-- Login Form -->
        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="form-container">
          <!-- Custom Success/Error Message -->
          <div [ngClass]="messageClass">
            {{ message }}
            <a *ngIf="emailActivateExpired" [routerLink]="['/resend-route'] | localize">
              <!-- Button to Resend an Activation Link -->
              <button type="button" class="btn btn-success" translate>{{'auth-form.resend-link'}}</button>
            </a>
          </div>
          <h4 class="ks-header" translate>{{'auth-form.sign-in-title'}}</h4>
          <!-- Username Field -->
          <div class="form-group" [ngClass]="{'has-error': (!username.valid && username.dirty), 'has-success': (username.valid && username.dirty)}">
            <div class="input-icon icon-left icon-lg icon-color-primary">
              <input [formControl]="username" capitalize type="text" class="form-control" [placeholder]="'auth-form.username'| translate">
              <span class="icon-addon">
                <span class="la la-at"></span>
              </span>
            </div>
            <!-- Validation -->
            <span *ngIf="username.errors?.required && username.dirty" class="help-block form-error" translate>{{'validation.required'}}</span>
          </div>
          <!-- Password Field -->
          <div class="form-group" [ngClass]="{'has-error': (!password.valid && password.dirty), 'has-success': (password.valid && password.dirty)}">
            <div class="input-icon icon-left icon-lg icon-color-primary">
              <input [formControl]="password" type="password" class="form-control" [placeholder]="'auth-form.password'| translate">
              <span class="icon-addon">
                <span class="la la-key"></span>
              </span>
            </div>
            <!-- Validation -->
            <span *ngIf="password.errors?.required && password.dirty" class="help-block form-error" translate>{{'validation.required'}}</span>
          </div>
          <div class="form-group">
            <button [disabled]="!form.valid || submitted " type="submit" class="btn btn-primary btn-block" translate>{{'auth-form.sign-in'}}</button>
          </div>
          <div class="ks-text-center"><a [routerLink]="['/sign-up-route'] | localize" translate>{{'auth-form.sign-in-sign-up-link'}}</a>
          </div>
          <div class="ks-text-center">
            <a [routerLink]="['/reset-username-route'] | localize" translate>{{'auth-form.forgot-username'}}</a>
          </div>
          <div class="ks-text-center">
            <a [routerLink]="['/reset-password-route'] | localize" translate>{{'auth-form.forgot-password'}}</a>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
